{"version":3,"file":"\\packages\\handlebar-helpers.js","sources":["handlebar-helpers/helpers.operators.js"],"names":[],"mappings":";;;;;;;;AAAA,gB;AACA,qC;AACA,iB;AACA,C;;AAEA,wC;;AAEA,yD;AACA,2B;AACA,O;;AAEA,6D;AACA,uC;AACA,O;;AAEA,4D;AACA,sC;AACA,O;;AAEA,gE;AACA,4E;AACA,O;;AAEA,sD;AACA,2E;AACA,O;;AAEA,uD;AACA,2E;AACA,O;;AAEA,4D;AACA,8C;AACA,O;;AAEA,6D;AACA,8C;AACA,O;;AAEA,uD;AACA,gC;AACA,O;;AAEA,sD;AACA,qB;AACA,O;;AAEA,sD;AACA,qB;AACA,O;;AAEA,uD;AACA,qB;AACA,O;;AAEA,uD;AACA,qB;AACA,O;;;AAGA,uD;AACA,sB;AACA,O;;AAEA,sD;AACA,sB;AACA,O;;AAEA,oD;AACA,kB;AACA,O;;AAEA,yE;AACA,mC;AACA,O;;AAEA,0E;AACA,+C;AACA,8E;AACA,U;;AAEA,qF;AACA,W;AACA,sE;AACA,sE;AACA,mG;AACA,sE;;AAEA,8C;AACA,+B;;AAEA,sB;AACA,8C;AACA,qD;AACA,mC;AACA,gC;AACA,O;AACA,M;;AAEA,mC;AACA,6B;AACA,6B;AACA,M;;AAEA,sC;AACA,qE;AACA,sC;AACA,2B;AACA,uC;AACA,mC;AACA,2B;AACA,uC;AACA,mC;AACA,wD;AACA,4D;AACA,4E;AACA,2B;AACA,qD;AACA,kC;AACA,W;AACA,O;AACA,mC;AACA,iD;AACA,wL;AACA,M;;AAEA,M;AACA,+G;AACA,M;AACA,4B;;AAEA,4C;AACA,oC;AACA,0E;AACA,M;;AAEA,0C;AACA,sC;AACA,M;AACA,I;AACA,yC;AACA,uC;;AAEA,+C;AACA,gC;AACA,O;AACA,C","sourcesContent":[" // Helper scope\nif (typeof Helpers === 'undefined') {\n    Helpers = {};\n}\n\nif (typeof Handlebars !== 'undefined') {\n\n    Handlebars.registerHelper('getLength', function (a) {\n      return a && a.length;\n    });\n\n    Handlebars.registerHelper('isSelected', function (a, b) {\n      return (a === b)?' selected': '';\n    });\n\n    Handlebars.registerHelper('isChecked', function (a, b) {\n      return (a === b)?' checked': '';\n    });\n\n    Handlebars.registerHelper('cutString', function (str, len) {\n      return (str.length > len)?str.substr(0, Math.max(len-3, 0))+'...':str;\n    });\n\n    Handlebars.registerHelper('$eq', function (a, b) {\n      return (a === b); //Only text, numbers, boolean - not array & objects\n    });\n\n    Handlebars.registerHelper('$neq', function (a, b) {\n      return (a !== b); //Only text, numbers, boolean - not array & objects\n    });\n\n    Handlebars.registerHelper('$in', function (a, b, c, d) {\n      return ( a === b || a === c || a === d);\n    });\n\n    Handlebars.registerHelper('$nin', function (a, b, c, d) {\n      return ( a !== b || a !== c || a !== d);\n    });\n\n    Handlebars.registerHelper('$exists', function (a) {\n      return ( a !== undefined);\n    });\n\n    Handlebars.registerHelper('$lt', function (a, b) {\n      return (a < b);\n    });\n\n    Handlebars.registerHelper('$gt', function (a, b) {\n      return (a > b);\n    });\n\n    Handlebars.registerHelper('$lte', function (a, b) {\n      return (a < b);\n    });\n\n    Handlebars.registerHelper('$gte', function (a, b) {\n      return (a > b);\n    });\n\n\n    Handlebars.registerHelper('$and', function (a, b) {\n      return (a && b);\n    });\n\n    Handlebars.registerHelper('$or', function (a, b) {\n      return (a || b);\n    });\n\n    Handlebars.registerHelper('$not', function (a) {\n      return (!a);\n    });\n\n    Handlebars.registerHelper('getText', function (text) { // Deprecating\n      return Helpers.getText(text);\n    });\n\n    // Handlebars.registerHelper('userRole', function ( /* arguments */) {\n    //   var role = Session.get('currentRole');\n    //   return _.any(arguments, function(value) { return (value == role); });\n    // });\n\n    // expects an array: languageText['say.hello.to.me']['en'] = 'Say hello to me:)';\n    // ex.:\n    // getText('Say.Hello.To.Me') == 'say hello to me:)'; // lowercase\n    // getText('SAY.HELLO.TO.ME') == 'SAY HELLO TO ME:)'; // uppercase\n    // getText('Say.hello.to.me') == 'Say hello to me:)'; // uppercase first letter, rest lowercase\n    // getText('Say.Hello.To.Me') == 'Say Hello To Me:)'; // camelCase\n\n    var _languageDeps = new Deps.Dependency();\n    var currentLanguage = 'en';\n\n    // language = 'en'\n    Helpers.setLanguage = function(language) {\n      if (language && language !== currentLanguage) {\n        currentLanguage = language;\n        _languageDeps.changed();\n      }\n    };\n\n    Helpers.language = function() {\n      _languageDeps.depend();\n      return currentLanguage;\n    };\n\n    Helpers.getText = function(text) {\n      // handleCase will mimic text Case making src same case as text\n      function handleCase(text, src) {\n        // Return lowercase\n        if (text == text.toLowerCase())\n          return src.toLowerCase();\n        // Return uppercase\n        if (text == text.toUpperCase())\n          return src.toUpperCase();\n        // Return uppercase first letter, rest lowercase\n        if (text.substr(1) == text.substr(1).toLowerCase() )\n          return src.substr(0, 1).toUpperCase()+src.substr(1).toLowerCase();\n        // Return CamelCase\n        return src.replace(/( [a-z])/g, function($1){\n          return $1.toUpperCase();\n        });\n      }\n      var txt = text.toLowerCase();\n      // TODO: Tidy the return line - kinda messy\n      return handleCase(text, (languageText && languageText[txt])?( (languageText[txt][Helpers.language()])?languageText[txt][Helpers.language()]: languageText[txt].en):'['+text+']' );\n    };\n\n    /*\n        Then $uper helper - Credit goes to @belisarius222 aka Ted Blackman for sparking an idear for a solution\n    */\n    Helpers.superScope = {};\n\n    Helpers.addScope = function(name, obj) {\n      // TODO: Get rid of underscore\n      Helpers.superScope[name] = _.bind(function() { return this; }, obj);\n    };\n\n    Helpers.removeScope = function(name) {\n      delete Helpers.superScope[name];\n    };\n    \n    Helpers.addScope('Session', Session);\n    Helpers.addScope('Meteor', Meteor);\n\n    Handlebars.registerHelper('$', function() {\n      return Helpers.superScope;\n    });\n}\n"]}